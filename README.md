# SQL_query
1)Цель и условие задачи №1:

Образовательные курсы состоят из различных уроков, каждый из которых состоит из нескольких маленьких заданий. Необходимо написать оптимальный запрос, который даст информацию о количестве очень усердных студентов. Под усердным студентом мы понимаем студента, который правильно решил 20 задач за текущий месяц.

Цель и условие задачи №2:

Образовательная платформа предлагает пройти студентам курсы по модели trial: студент может решить бесплатно лишь 30 задач в день. Для неограниченного количества заданий в определенной дисциплине студенту необходимо приобрести полный доступ. Команда провела эксперимент, где был протестирован новый экран оплаты.

Мне необходимо было в одном запросе выгрузить следующую информацию о группах пользователей:

- ARPU (Среднее значение зароботка компании с клиента)
- ARPPU (Среднее значение зароботка компании с платящего клиента)
- CR в покупку 
- СR активного пользователя в покупку 
- CR пользователя из активности по математике (subject = ’math’) в покупку курса по математике

ARPU считается относительно всех пользователей, попавших в группы.
Активным считается пользователь, за все время решивший больше 10 задач правильно в любых дисциплинах.
Активным по математике считается пользователь, за все время решивший 2 или больше задач правильно по математике.

2)Во время выполнения проектов я применял следующе инструменты:

- группировки GROUP BY;
- сортировки ORDER BY;
- фильтры WHERE, HAVING и агрегатные функции COUNT, COUNTIf, SUM, uniqExact;
- выполнение сложных джоинов FULL, INNER JOIN;
- изменение структуры времени toStartOfMonth;
- использование подзапросов.

3)Результат:

Одним запросом вывел финансовые показатели компании ARPU, ARPPU, и конверсии CR пользователей в тестовой и контрольной группе для сравнения.
